

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Architecture Considerations: Storage Design &mdash; openFlightHPC-clusters  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Platform Considerations: General" href="../platform/considerations.html" />
    <link rel="prev" title="Architecture Considerations: Infrastructure Design" href="considerations-infrastructure-design.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/openflighthpc-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Architecture</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="considerations.html">Architecture Considerations: General</a></li>
<li class="toctree-l1"><a class="reference internal" href="considerations-network-design.html">Architecture Considerations: Network and Hardware Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="considerations-infrastructure-design.html">Architecture Considerations: Infrastructure Design</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Architecture Considerations: Storage Design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#storage-hardware">Storage Hardware</a></li>
<li class="toctree-l2"><a class="reference internal" href="#type-of-filesystem">Type of filesystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="#network-storage-solutions">Network Storage Solutions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#single-server-with-nfs">Single server with NFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multiple-servers-with-nfs">Multiple Servers with NFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multiple-servers-with-parallel-filesystem">Multiple Servers with Parallel filesystem</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#additional-considerations-and-questions">Additional Considerations and Questions</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Platform</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../platform/considerations.html">Platform Considerations: General</a></li>
</ul>
<p class="caption"><span class="caption-text">Environment</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../environment/considerations.html">Environment Considerations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">openFlightHPC-clusters</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Architecture Considerations: Storage Design</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/architecture/considerations-storage-design.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="architecture-considerations-storage-design">
<span id="architecture-considerations-storage"></span><h1>Architecture Considerations: Storage Design<a class="headerlink" href="#architecture-considerations-storage-design" title="Permalink to this headline">¶</a></h1>
<div class="section" id="storage-hardware">
<h2>Storage Hardware<a class="headerlink" href="#storage-hardware" title="Permalink to this headline">¶</a></h2>
<p>When selecting the storage solution it is worth considering the size, performance and resilience of the desired storage solution. Usually some sort of storage array will be used; e.g. a collection of disks (otherwise known as JBOD - Just a Bunch Of Disks) in the form of an internal or external RAID array.</p>
</div>
<div class="section" id="type-of-filesystem">
<h2>Type of filesystem<a class="headerlink" href="#type-of-filesystem" title="Permalink to this headline">¶</a></h2>
<p>For many requirements, a simple NFS solution can provide sufficient performance and resiliency for data. Application, library and source-code files are often small enough to be stored on an appropriately sized NFS solution; such storage systems can even be grown over time using technologies like LVM and XFS as requirements increase.</p>
<p>For data-sets that require high capacity (&gt;100TB) or high-performance (&gt;1GB/sec) access, a parallel filesystem may be suitable to store data. Particularly well suited to larger files (e.g. at least 4MB per storage server), a parallel filesystem can provide additional features such as byte-range locking (the ability for multiple nodes to update sections of a large file simultaneously), and MPI-IO (the ability to control data read/written using MPI calls). Parallel filesystems work by aggregating performance and capacity from multiple servers and allowing clients (your cluster compute and login nodes) to mount the filesystem as a single mount-point. Common examples include:</p>
<blockquote>
<div><ul class="simple">
<li>Lustre; an open-source kernel-based parallel filesystem for Linux</li>
<li>GPFS (general purpose file system; a proprietary kernel-based parallel filesystem for Linux</li>
<li>BeeGFS; an open-source user-space parallel filesystem for Linux</li>
</ul>
</div></blockquote>
<p>Your choice of filesystem will depend on the features you require, and your general familiarity with the technologies involved. As parallel filesystems do not perform well for smaller files, it is very common to deploy a parallel filesystem alongside a simple NFS-based storage solution.</p>
<p>If your data-set contains a large number of files which need to be kept and searchable for a long time (&gt; 12-months) then an object storage system can also be considered. Accessed using client-agnostic protocols such as HTTPS, an object storage system is ideal for creating data archives which can include extended metadata to assist users to locate and organise their data. Most object storage systems include data redundancy options (e.g. multiple copies, object versioning and tiering), making them an excellent choice for long-term data storage. Examples of object-storage systems include:</p>
<ul class="simple">
<li>AWS Simple Storage Service (S3); a cloud-hosted service with a range of data persistence options</li>
<li>Swift-stack; available as both on-premise and cloud-hosted services, the SWIFT protocol is compatible with a wide range of software and services</li>
<li>Ceph; an on-premise object storage system with a range of interfaces (block, object, S3, POSIX file)</li>
</ul>
</div>
<div class="section" id="network-storage-solutions">
<h2>Network Storage Solutions<a class="headerlink" href="#network-storage-solutions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="single-server-with-nfs">
<h3>Single server with NFS<a class="headerlink" href="#single-server-with-nfs" title="Permalink to this headline">¶</a></h3>
<img alt="Single Server with NFS" src="../_images/SingleServerNFS.png" />
<p>In this example, a single server is connected to a RAID 6 storage array which it is serving over NFS to the systems on the network. While simple in design and implementation, this design only provides redundancy at the RAID level.</p>
</div>
<div class="section" id="multiple-servers-with-nfs">
<h3>Multiple Servers with NFS<a class="headerlink" href="#multiple-servers-with-nfs" title="Permalink to this headline">¶</a></h3>
<img alt="Multi Server with NFS" src="../_images/MultiServerNFS.png" />
<p>In addition to the previous example, this setup features multiple storage servers which balance the load of serving the disk over NFS.</p>
</div>
<div class="section" id="multiple-servers-with-parallel-filesystem">
<h3>Multiple Servers with Parallel filesystem<a class="headerlink" href="#multiple-servers-with-parallel-filesystem" title="Permalink to this headline">¶</a></h3>
<img alt="Multi Server with Lustre" src="../_images/MultiServerLustre.png" />
<p>This setup features multiple RAID sets which are installed externally to the storage servers and are connected to both of them using multipath - this allows for multiple paths to the storage devices to be utilised. Using this storage, a Lustre volume has been configured which consists of a combination of all the external disks. Authorisation of access to the storage volume is managed by the metadata node, which also has dedicated storage.</p>
</div>
</div>
<div class="section" id="additional-considerations-and-questions">
<h2>Additional Considerations and Questions<a class="headerlink" href="#additional-considerations-and-questions" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>What data will need to be centrally stored?</li>
<li>Where will data be coming from?<ul>
<li>Are source files created within the HPC network or do they exist in the external network?</li>
<li>Will compute nodes be writing out logs/results from running jobs?</li>
<li>Where else might data be coming from?</li>
</ul>
</li>
<li>Is scratch space needed?</li>
<li>What level of redundancy/stability is required for the data?</li>
<li>How will the data be backed up?<ul>
<li>Will there be off-site backups?</li>
<li>Should a separate storage medium be used?</li>
<li>Does all the data need backing up or only certain files?</li>
<li>For how long will we keep the data, and any backups created?</li>
</ul>
</li>
<li>What are my disaster recovery and business continuity plans?<ul>
<li>If the storage service fails, how will my users continue working?</li>
<li>How can I recreate the storage service if it fails?</li>
<li>How long will it take to restore any data from backups?</li>
</ul>
</li>
</ul>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../platform/considerations.html" class="btn btn-neutral float-right" title="Platform Considerations: General" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="considerations-infrastructure-design.html" class="btn btn-neutral float-left" title="Architecture Considerations: Infrastructure Design" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, openFlightHPC

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>